<div ng-controller="searchController">
  <div class="row">
    <div class="col-lg-12 text-center container">
      <h1 class="margin-bottom">Music Search</h1>
      <form>
        <div class="col-lg-6 pull-center">
          <input type="text" class="form-control" placeholder="Search Term ..." ng-model="searchTerm" ng-disabled="searching">
        </div>
        <button ng-click="doSearch()" ng-disabled="searching" class="hidden">Search</button>
      </form>
      <hr>
      <div class="col-lg-6 pull-center border" ng-repeat="media in mediaSearchResults | orderBy:sortProp">
          <div class="row margin-top margin-bottom text-left">
            <div class="margin-left margin-right preview">
              <div class="video" ng-click="playVideo(media)">
                <a ng-href="{{media.previewUrl}}" target="_blank"><img height="100" width="100" ng-src="{{media.artworkUrl60}}" /></a>
              </div>
            </div>
            <div class="content">
              <div class="row">
                <div class="col-lg-6">
                  <div class="title">{{media.trackName || media.collectionName}}</div>
                  <div >{{media.artistName}}</div>
                  <div class="album"><a ui-sref="album({id: media.collectionId})">{{media.collectionName}}</a></div>
                </div>
                <div class="col-lg-5 text-right">
                  <div>Track Price: {{media.trackPrice | currency}}</div>
                  <div>Genre: {{media.kind}}</div>
                </div>
              </div>
            </div>
          </div>
      </div>
      <div class="popupPlayer" ng-show="showVideo">
        <div>
          <button ng-click="closeVideo()" class="pull-right"><i class="icon-remove"></i></button>
          <div>{{title}}</div>
          <small>by <cite>{{artist}}</cite></small>
        </div>
        <videoplayer src="{{previewUrl}}" width="320" height="240" controls>
      </div>
    </div>
  </div>
</div>